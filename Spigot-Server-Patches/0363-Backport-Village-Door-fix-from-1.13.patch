From 3a22b07de7c465b2db5d456dbf516c8a443f57d6 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Sat, 29 Sep 2018 12:13:23 -0400
Subject: [PATCH] Backport Village Door fix from 1.13


diff --git a/src/main/java/net/minecraft/server/Village.java b/src/main/java/net/minecraft/server/Village.java
index 9f1867ddd3..af09551f4e 100644
--- a/src/main/java/net/minecraft/server/Village.java
+++ b/src/main/java/net/minecraft/server/Village.java
@@ -312,7 +312,7 @@ public class Village {
                 villagedoor.a();
             }
 
-            if (!this.f(villagedoor.d()) || Math.abs(this.g - villagedoor.h()) > 1200) {
+            if ((!this.f(villagedoor.d()) || Math.abs(this.g - villagedoor.h()) > 1200) && this.a.isLoaded(villagedoor.d())) { // Paper - don't remove doors from unloaded chunks
                 this.c = this.c.b(villagedoor.d());
                 flag = true;
                 villagedoor.a(true);
-- 
2.19.0

